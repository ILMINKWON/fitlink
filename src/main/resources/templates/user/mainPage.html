<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
    <head>
        <meta charset="UTF-8">
        <!--뷰 포트 설정-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <style>
            .material-icons {
              font-size: 50px;
              display: block;
              margin-bottom: 10px;
            }

            /* 로고 스타일 */
            .fit-logo {
            font-size: 4rem;
            font-weight: 800;
            color: #6a07e2;
            text-align: center;
            margin-top: 30px;
            animation: shimmer 2s infinite;
            background: linear-gradient(90deg, #8814ac, #66b2ff, #8814ac);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            }

            /* 반짝반짝 효과 */
            @keyframes shimmer {
            0% {
                background-position: -300px 0;
            }
            100% {
                background-position: 300px 0;
            }
            }
          </style>
    </head>
    <body>
        사이드 프로젝트 ( 마지막 ) 잘 꾸며보자.
        <div class="container-fluid container-mv" style="margin-top: 150px;">
            <div class="row">
                <div class="col m-0 p-0">
                    <div class="fit-logo">Fit Link.</div>
                </div>
            </div>
            <div class="row justify-content-center mt-5 m-0">
                <!-- 사용자 칸 -->
                <div class="col-6">
                    <div class="btn btn-outline-primary w-100 py-5" id="userBtn">
                    <span id="userIcon" class="material-icons">person</span>
                    <span class="fs-3 fw-medium">사용자</span>
                    </div>
                </div>

                 <!-- 관리자 칸 -->
                <div class="col-6">
                    <div class="btn btn-outline-primary w-100 py-5" id="adminBtn"  data-bs-toggle="modal" data-bs-target="#adminAuthModal">
                    <span id="adminIcon" class="material-icons">shield</span>
                    <span class="fs-3 fw-medium">관리자</span>
                    </div>
                </div>

                <!-- 인증 모달 -->
                <div class="modal fade" id="adminAuthModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content p-3">
                        <div class="modal-header border-0">
                        <h5 class="modal-title fw-bold">보안 인증</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body text-center">
                        <p class="mb-3 fs-5 fw-medium">보안인증 코드를 입력해 주세요</p>
                        <input type="text" id="authCode" class="form-control text-center mb-3" placeholder="인증번호 6자리" maxlength="6" />
                        <button class="btn btn-primary w-100" onclick="adminCode()">확인</button>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>
    <script>
        const userBtn = document.getElementById("userBtn");
        const userIcon = document.getElementById("userIcon");
    
        const adminBtn = document.getElementById("adminBtn");
        const adminIcon = document.getElementById("adminIcon");
    
        // 사용자 호버 효과
        userBtn.addEventListener("mouseenter", () => {
          userIcon.textContent = "fitness_center"; 
        });
        userBtn.addEventListener("mouseleave", () => {
          userIcon.textContent = "person"; 
        });
    
        // 관리자 호버 효과
        adminBtn.addEventListener("mouseenter", () => {
          adminIcon.textContent = "admin_panel_settings";
        });
        adminBtn.addEventListener("mouseleave", () => {
          adminIcon.textContent = "shield";
        });
      </script>
    <script>
        // Admin code 승인
        function adminCode() {
        const code = document.getElementById("authCode").value;

        fetch('/fitLink/verifyAdminCode', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: 'inputCode=' + encodeURIComponent(code)
        })
        .then(response => {
            if (!response.ok) {
                throw new Error("서버 오류");
            }
            return response.text();
        })
        .then(data => {
            if (data === "success") {
                alert("인증 성공");
                window.location.href = "/fitLink/mainPage";
            } else {
                alert("인증 실패");
            }
        })
        .catch(error => {
            alert("인증 실패: " + error.message);
        });
    }
    </script>
</html>